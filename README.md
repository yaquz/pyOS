# pyOS

###### Решил опубликовать свой старый проект годовой давности : )

### pyOS - это простое подобие ОС на петухончике адольфа (python). Чистый энтузиазм

## Что она умеет?

- **В pyOS есть своя собственная файловая система, которая хранится в папке pyOS (она в папке с .exe файлом), в формате filesystem.pyos**
- **В pyOS есть своя собственная система пользователей, которая хранится в папке pyOS (она в папке с .exe файлом) в формате fs-users.pyos**
- **В pyOS есть свои команды для взаимодействия с файловой системой, а также небольшое приложение для работы с файловой системой через графический интерфейс**

## Как устроена файловая система?

**Вся файловая система хранится в бинарном файле `filesystem.pyos`. Каждый узел (то бишь файл или директория) сериализуется в последовательность байтов с четко определенной структурой. Вот как выглядит формат:**

- **1 байт**: Тип узла:
  - `0x01` (файл).
  - `0x02` (директория).
- **1 байт**: Длина имени узла (в байтах).
- **N байт**: Имя узла (строка в кодировке UTF-8).
- **8 байт**: Время создания (timestamp, double, формат IEEE 754).

**Дополнительно для файлов:**
- **4 байта**: Длина содержимого (целое число).
- **M байт**: Содержимое файла (строка в кодировке UTF-8).

**Дополнительно для директорий:**
- **4 байта**: Количество дочерних узлов (целое число).
- **Дочерние узлы**: Последовательность узлов (рекурсивно, в том же формате).

### Пример структуры файловой системы

Предположим, у вас есть такая структура:
- Корень `/`.
  - Папка `/mydir`.
  - Файл `/myfile.txt` с содержимым "Привет, pyOS!".

В `filesystem.pyos` это будет выглядеть так:
1. **Корень (`/`)**:
   - `0x02` (тип: директория).
   - `0x01` (длина имени: 1).
   - `0x2F` (имя: "/").
   - `8 байт` (время создания).
   - `0x00 0x00 0x00 0x02` (количество детей: 2).
2. **Папка `/mydir`**:
   - `0x02` (тип: директория).
   - `0x05` (длина имени: 5).
   - `mydir` (имя).
   - `8 байт` (время создания).
   - `0x00 0x00 0x00 0x00` (количество детей: 0).
3. **Файл `/myfile.txt`**:
   - `0x01` (тип: файл).
   - `0x0A` (длина имени: 10).
   - `myfile.txt` (имя).
   - `8 байт` (время создания).
   - `0x00 0x00 0x00 0x0D` (длина содержимого: 13).
   - `Привет, pyOS!` (содержимое).

## Как устроена система пользователей?

Система пользователей хранится в бинарном файле `fs-users.pyos`. Формат следующий:
- **4 байта**: Количество пользователей (целое число).
- **Для каждого пользователя**:
  - **1 байт**: Длина имени пользователя.
  - **N байт**: Имя пользователя (UTF-8).
  - **1 байт**: Длина пароля.
  - **M байт**: Пароль (UTF-8).
  - **8 байт**: Время создания (timestamp, double).

### Пример структуры системы пользователей

Предположим, есть два пользователя:
- `admin` (пароль: `pass123`).
- `user1` (пароль: `pass456`).

В `fs-users.pyos` это будет выглядеть так:
- `0x00 0x00 0x00 0x02` (количество пользователей: 2).
- Первый пользователь:
  - `0x05` (длина имени: 5).
  - `admin` (имя).
  - `0x07` (длина пароля: 7).
  - `pass123` (пароль).
  - `8 байт` (время создания).
- Второй пользователь:
  - `0x05` (длина имени: 5).
  - `user1` (имя).
  - `0x07` (длина пароля: 7).
  - `pass456` (пароль).
  - `8 байт` (время создания).

## Работа с .pyos файлами через приложение 

1. Перейдите в директорию `pyOS/file-reading`
2. Запустите скрипт `pyosReading.py`
3. В открышимся окне выберите файл с расширением .pyos 

## Установка pyOS

1. Склонируйте репозиторий
2. Убедитесь, что у вас установлен python 3.6 и выше
3. Установите зависимости:
    ```bash
    pip install -r req.txt
    ```
4. Запустите kernel.py

#### Вы **сво**бодно можете использовать мой проект в **сво**их целях.